import{r as y,_ as v,k as L,h as K,j as r,A as S,z as W,W as Z}from"./app-D4aCIDpl.js";import{P as q}from"./PrimaryButton-DivMmSaY.js";import{I as x}from"./InputLabel-Bzgbq2gB.js";import{T as g}from"./TextInput-BdmRATbT.js";import{I as b}from"./InputError-tNjF7Z0V.js";import{m as C,n as P}from"./notiflix-aio-3.2.7.min-CFWMpfGM.js";import{S as U}from"./SecondaryButton-DmdbyXWG.js";import{k as H,M as X,B as J,F as Q}from"./Popper-DQw_Ul0b.js";import{a as Y,g as ee,e as re,c as te,B as se}from"./Box-CS2s35aH.js";import{s as ae,c as oe}from"./styled-CvfIzulS.js";import{T as ne}from"./Typography-CIyZIWHg.js";import{T as ie}from"./Tooltip-B3rXntZZ.js";import{D as le}from"./Divider-BSfhR0Hk.js";import{F as ce,A as de,T as ue}from"./Autocomplete-Bjg3lLRM.js";import"./createSvgIcon-CDyz_2kq.js";const E=y.createContext();function me(e){return Y("MuiGrid",e)}const pe=[0,1,2,3,4,5,6,7,8,9,10],fe=["column-reverse","column","row-reverse","row"],xe=["nowrap","wrap-reverse","wrap"],w=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],N=ee("MuiGrid",["root","container","item","zeroMinWidth",...pe.map(e=>`spacing-xs-${e}`),...fe.map(e=>`direction-xs-${e}`),...xe.map(e=>`wrap-xs-${e}`),...w.map(e=>`grid-xs-${e}`),...w.map(e=>`grid-sm-${e}`),...w.map(e=>`grid-md-${e}`),...w.map(e=>`grid-lg-${e}`),...w.map(e=>`grid-xl-${e}`)]),be=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function k(e){const t=parseFloat(e);return`${t}${String(e).replace(String(t),"")||"px"}`}function he({theme:e,ownerState:t}){let i;return e.breakpoints.keys.reduce((o,a)=>{let s={};if(t[a]&&(i=t[a]),!i)return o;if(i===!0)s={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(i==="auto")s={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const l=S({values:t.columns,breakpoints:e.breakpoints.values}),m=typeof l=="object"?l[a]:l;if(m==null)return o;const c=`${Math.round(i/m*1e8)/1e6}%`;let u={};if(t.container&&t.item&&t.columnSpacing!==0){const d=e.spacing(t.columnSpacing);if(d!=="0px"){const p=`calc(${c} + ${k(d)})`;u={flexBasis:p,maxWidth:p}}}s=v({flexBasis:c,flexGrow:0,maxWidth:c},u)}return e.breakpoints.values[a]===0?Object.assign(o,s):o[e.breakpoints.up(a)]=s,o},{})}function ge({theme:e,ownerState:t}){const i=S({values:t.direction,breakpoints:e.breakpoints.values});return W({theme:e},i,o=>{const a={flexDirection:o};return o.indexOf("column")===0&&(a[`& > .${N.item}`]={maxWidth:"none"}),a})}function M({breakpoints:e,values:t}){let i="";Object.keys(t).forEach(a=>{i===""&&t[a]!==0&&(i=a)});const o=Object.keys(e).sort((a,s)=>e[a]-e[s]);return o.slice(0,o.indexOf(i))}function ke({theme:e,ownerState:t}){const{container:i,rowSpacing:o}=t;let a={};if(i&&o!==0){const s=S({values:o,breakpoints:e.breakpoints.values});let l;typeof s=="object"&&(l=M({breakpoints:e.breakpoints.values,values:s})),a=W({theme:e},s,(m,c)=>{var u;const d=e.spacing(m);return d!=="0px"?{marginTop:`-${k(d)}`,[`& > .${N.item}`]:{paddingTop:k(d)}}:(u=l)!=null&&u.includes(c)?{}:{marginTop:0,[`& > .${N.item}`]:{paddingTop:0}}})}return a}function we({theme:e,ownerState:t}){const{container:i,columnSpacing:o}=t;let a={};if(i&&o!==0){const s=S({values:o,breakpoints:e.breakpoints.values});let l;typeof s=="object"&&(l=M({breakpoints:e.breakpoints.values,values:s})),a=W({theme:e},s,(m,c)=>{var u;const d=e.spacing(m);return d!=="0px"?{width:`calc(100% + ${k(d)})`,marginLeft:`-${k(d)}`,[`& > .${N.item}`]:{paddingLeft:k(d)}}:(u=l)!=null&&u.includes(c)?{}:{width:"100%",marginLeft:0,[`& > .${N.item}`]:{paddingLeft:0}}})}return a}function ve(e,t,i={}){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[i[`spacing-xs-${String(e)}`]];const o=[];return t.forEach(a=>{const s=e[a];Number(s)>0&&o.push(i[`spacing-${a}-${String(s)}`])}),o}const Ne=ae("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e,{container:o,direction:a,item:s,spacing:l,wrap:m,zeroMinWidth:c,breakpoints:u}=i;let d=[];o&&(d=ve(l,u,t));const p=[];return u.forEach(f=>{const n=i[f];n&&p.push(t[`grid-${f}-${String(n)}`])}),[t.root,o&&t.container,s&&t.item,c&&t.zeroMinWidth,...d,a!=="row"&&t[`direction-xs-${String(a)}`],m!=="wrap"&&t[`wrap-xs-${String(m)}`],...p]}})(({ownerState:e})=>v({boxSizing:"border-box"},e.container&&{display:"flex",flexWrap:"wrap",width:"100%"},e.item&&{margin:0},e.zeroMinWidth&&{minWidth:0},e.wrap!=="wrap"&&{flexWrap:e.wrap}),ge,ke,we,he);function je(e,t){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[`spacing-xs-${String(e)}`];const i=[];return t.forEach(o=>{const a=e[o];if(Number(a)>0){const s=`spacing-${o}-${String(a)}`;i.push(s)}}),i}const ye=e=>{const{classes:t,container:i,direction:o,item:a,spacing:s,wrap:l,zeroMinWidth:m,breakpoints:c}=e;let u=[];i&&(u=je(s,c));const d=[];c.forEach(f=>{const n=e[f];n&&d.push(`grid-${f}-${String(n)}`)});const p={root:["root",i&&"container",a&&"item",m&&"zeroMinWidth",...u,o!=="row"&&`direction-xs-${String(o)}`,l!=="wrap"&&`wrap-xs-${String(l)}`,...d]};return oe(p,me,t)},F=y.forwardRef(function(t,i){const o=L({props:t,name:"MuiGrid"}),{breakpoints:a}=H(),s=re(o),{className:l,columns:m,columnSpacing:c,component:u="div",container:d=!1,direction:p="row",item:f=!1,rowSpacing:n,spacing:h=0,wrap:I="wrap",zeroMinWidth:V=!1}=s,$=K(s,be),R=n||h,A=c||h,O=y.useContext(E),z=d?m||12:O,T={},_=v({},$);a.keys.forEach(j=>{$[j]!=null&&(T[j]=$[j],delete _[j])});const B=v({},s,{columns:z,container:d,direction:p,item:f,rowSpacing:R,columnSpacing:A,wrap:I,zeroMinWidth:V,spacing:h},T,{breakpoints:a.keys}),D=ye(B);return r.jsx(E.Provider,{value:z,children:r.jsx(Ne,v({ownerState:B,className:te(D.root,l),as:u,ref:i},_))})}),Se={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",height:600,width:"100%",maxWidth:350,bgcolor:"background.paper",border:"1px solid",boxShadow:24,p:2,overflow:"auto"},G=["999.999.999-99"],$e=["(99) 9 9999-9999"];function Oe({showModal:e,handleClose:t,title:i,typeButton:o,leaders:a}){const{data:s,setData:l,post:m,errors:c,processing:u,reset:d}=Z({name:"",cpf:"",phone:"",title_number:"",zone:"",session:"",leader:{id:"",name:"",cpf:"",created_at:"",updated_at:"",nameWithCpf:""}}),p=a.map(n=>({...n,nameWithCpf:`${n.name} (${C(n.cpf,G)})`})),f=n=>{n.preventDefault(),m(route("voters.create"),{onSuccess:()=>{P.Notify.success("Eleitor cadastro com sucesso!"),d(),t()},onError:h=>{P.Notify.failure("Algo deu errado, tente novamente")}})};return r.jsx(X,{style:{zIndex:999},"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:e,onClose:t,closeAfterTransition:!0,slots:{backdrop:J},slotProps:{backdrop:{timeout:500}},children:r.jsx(Q,{in:e,children:r.jsx(F,{container:!0,children:r.jsxs(F,{item:!0,xs:10,sm:8,md:6,sx:Se,children:[r.jsxs(se,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",p:"15px"},children:[r.jsx(ne,{variant:"h5",sx:{fontWeight:"bold"},children:i}),r.jsx(U,{onClick:t,className:"h-8",children:r.jsx(ie,{title:"Fechar",children:"X"})})]}),r.jsx(le,{variant:"fullWidth"}),r.jsx("form",{onSubmit:f,children:r.jsxs("div",{className:"w-full p-6.5",children:[r.jsxs("div",{className:"w-full flex flex-colxl:flex-row mb-5",children:[r.jsxs("div",{className:"w-full xl:w-2/3",children:[r.jsxs(ce,{required:!0,sx:{width:400},children:[r.jsx(x,{id:"leader",className:"mb-2",children:"Selecione a Liderança*"}),r.jsx(de,{value:s==null?void 0:s.leader,onChange:(n,h)=>{l("leader",h)},id:"leader",options:p,renderInput:n=>y.createElement(ue,{...n,key:n.id}),getOptionLabel:n=>n?n.nameWithCpf:""})]}),r.jsx(b,{message:c["leader.id"],className:"mt-2"})]}),r.jsx("div",{className:"w-full xl:w-1/3"})]}),r.jsx("div",{className:"w-full flex flex-col gap-6 xl:flex-row mb-5",children:r.jsxs("div",{className:"w-full xl:w-2/3",children:[r.jsx(x,{htmlFor:"name",value:"Nome*",className:"mb-2.5 block text-black dark:text-white"}),r.jsx(g,{id:"name",name:"name",value:s.name,className:"w-full h-14 mt-1 rounded border-[1.5px] border-stone-400 bg-transparent py-3 px-5 text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary",placeholder:"Nome Completo",required:!0,autoComplete:"name",onChange:n=>l("name",n.target.value)}),r.jsx(b,{message:c.name,className:"mt-2"})]})}),r.jsxs("div",{className:"w-full flex flex-col gap-6 xl:flex-row mb-5",children:[r.jsxs("div",{className:"w-full xl:w-1/3",children:[r.jsx(x,{htmlFor:"cpf",value:"CPF*",className:"mb-2.5 block text-black dark:text-white"}),r.jsx(g,{id:"cpf",name:"cpf",value:s.cpf,className:"w-full h-14 mt-1 rounded border-[1.5px] border-stone-400 bg-transparent py-3 px-5 text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary",placeholder:"000.000.000-00",required:!0,onChange:n=>l("cpf",C(n.target.value,G))}),r.jsx(b,{message:c.cpf,className:"mt-2"})]}),r.jsxs("div",{className:"w-full xl:w-1/3",children:[r.jsx(x,{htmlFor:"phone",value:"Telefone*",className:"mb-2.5 block text-black dark:text-white"}),r.jsx(g,{id:"phone",name:"phone",value:s.phone,className:"w-full h-14 mt-1 rounded border-[1.5px] border-stone-400 bg-transparent py-3 px-5 text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary",placeholder:"(91) 9 0000-0000",required:!0,onChange:n=>l("phone",C(n.target.value,$e))}),r.jsx(b,{message:c.phone,className:"mt-2"})]})]}),r.jsxs("div",{className:"w-full flex flex-col gap-6 xl:flex-row mb-5",children:[r.jsxs("div",{className:"w-full xl:w-1/3",children:[r.jsx(x,{htmlFor:"title_number",value:"Nº Título",className:"mb-2.5 block text-black dark:text-white"}),r.jsx(g,{id:"title_number",name:"title_number",value:s.title_number,className:"w-full h-14 mt-1 rounded border-[1.5px] border-stone-400 bg-transparent py-3 px-5 text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary",placeholder:"Nº Título",onChange:n=>l("title_number",n.target.value)}),r.jsx(b,{message:c.title_number,className:"mt-2"})]}),r.jsxs("div",{className:"w-full xl:w-1/3",children:[r.jsx(x,{htmlFor:"zone",value:"Zona",className:"mb-2.5 block text-black dark:text-white"}),r.jsx(g,{id:"zone",name:"zone",value:s.zone,className:"w-full h-14 mt-1 rounded border-[1.5px] border-stone-400 bg-transparent py-3 px-5 text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary",placeholder:"Nº Zona",onChange:n=>l("zone",n.target.value)}),r.jsx(b,{message:c.zone,className:"mt-2"})]}),r.jsxs("div",{className:"w-full xl:w-1/3",children:[r.jsx(x,{htmlFor:"session",value:"Seção",className:"mb-2.5 block text-black dark:text-white"}),r.jsx(g,{id:"session",name:"session",value:s.session,className:"w-full h-14 mt-1 rounded border-[1.5px] border-stone-400 bg-transparent py-3 px-5 text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary",placeholder:"Seção",onChange:n=>l("session",n.target.value)}),r.jsx(b,{message:c.session,className:"mt-2"})]})]}),r.jsx(q,{disabled:u,onClick:f,className:"flex w-full mt-3 h-12 justify-center rounded bg-green-600 p-3 font-medium text-gray hover:bg-opacity-90",children:o})]})})]})})})})}export{Oe as default};
