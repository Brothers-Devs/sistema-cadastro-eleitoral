import{W as C,j as e,a as _}from"./app-CtuG7Gio.js";import{D as F}from"./DefaultLayout-BTQaG6j-.js";import{P as h}from"./PrimaryButton-gLKbMT3m.js";import{I as o}from"./InputLabel-DvyK24yI.js";import{I as i,T as t}from"./TextInput-Beqo41os.js";import{m as n,n as k}from"./notiflix-aio-3.2.7.min-CoM4lYV6.js";import{B as E}from"./Breadcrumb-CIf5nL-6.js";import T from"./NotFound-CnH0_xGV.js";import{F as P,A as z,T as I}from"./Autocomplete-CBx995Bj.js";import{B as x}from"./Box-C9CwGuVZ.js";import"./index-SzE9uqyb.js";import"./iconBase-CPhTjXq0.js";import"./logo-candidato-SK3Uj6G_.js";import"./generateUtilityClasses-DVu8MOjv.js";import"./Popper-IAnMooNr.js";import"./createSvgIcon-D1q2tYoP.js";import"./Modal-BuGi7nLU.js";const m=["999.999.999-99"],w=["(99) 9 9999-9999"];function V({voter:r,leaders:g}){var b,p;const c=[...g],{data:a,setData:l,put:j,errors:d,processing:N,reset:A}=C({name:(r==null?void 0:r.name)||"",cpf:r!=null&&r.cpf?n(r==null?void 0:r.cpf,m):"",phone:r!=null&&r.phone?n(r==null?void 0:r.phone,w):"",title_number:(r==null?void 0:r.title_number)||"",zone:(r==null?void 0:r.zone)||"",session:(r==null?void 0:r.session)||"",leader:r!=null&&r.leader?{...r.leader,nameWithCpf:`${(b=r==null?void 0:r.leader)==null?void 0:b.name} (${n((p=r==null?void 0:r.leader)==null?void 0:p.cpf,m)})`}:""}),y=c==null?void 0:c.map(s=>({...s,nameWithCpf:`${s.name} (${n(s.cpf,m)})`})),u=s=>{s.preventDefault(),j(`/voters/${r.id}`,{data:a,onSuccess:()=>{k.Notify.success("Eleitor editado com sucesso!")},onError:f=>{k.Notify.failure("Algo deu errado, verifique os dados enviados e tente novamente!")}})};return r===null?e.jsx(T,{}):e.jsxs(F,{children:[e.jsx(E,{pageName:"Editar Eleitor"}),e.jsx("div",{className:"grid grid-cols-1 gap-9",children:e.jsxs("form",{onSubmit:u,className:"w-full",children:[e.jsxs("div",{className:"flex flex-col gap-9",children:[e.jsxs("div",{className:"rounded-sm border border-stroke bg-white shadow-default dark:border-strokedark dark:bg-boxdark",children:[e.jsx("div",{className:"border-b border-stroke py-4 px-6.5 dark:border-strokedark",children:e.jsx("h3",{className:"font-medium text-black dark:text-white",children:"Dados da Liderança"})}),e.jsx("div",{className:"p-6.5",children:e.jsxs("div",{className:"w-full flex flex-col xl:flex-row mb-5",children:[e.jsxs("div",{className:"w-fullxl:w-2/3",children:[e.jsxs(P,{required:!0,sx:{width:400},children:[e.jsx(o,{id:"leader",className:"mb-2",children:"Selecione a Liderança*"}),e.jsx(z,{className:"max-sm:w-67",value:a==null?void 0:a.leader,onChange:(s,f)=>{l("leader",f)},id:"leader",options:y,renderInput:s=>e.jsx(I,{...s},s.id),getOptionLabel:s=>s?s.nameWithCpf:""})]}),e.jsx(i,{message:d["leader.id"],className:"mt-2"})]}),e.jsx("div",{className:"w-full xl:w-1/3"})]})})]}),e.jsxs("div",{className:"w-full rounded-sm border border-stroke bg-white shadow-default dark:border-strokedark dark:bg-boxdark",children:[e.jsx("div",{className:"border-b border-stroke py-4 px-6.5 dark:border-strokedark",children:e.jsx("h3",{className:"font-medium text-black dark:text-white",children:"Dados Pessoais"})}),e.jsxs("div",{className:"p-6.5",children:[e.jsxs("div",{className:"mb-4.5 flex flex-col gap-6 xl:flex-row",children:[e.jsxs("div",{className:"w-full xl:w-1/3",children:[e.jsx(o,{htmlFor:"name",value:"Nome do Eleitor*",className:"mb-2.5 block text-black dark:text-white"}),e.jsx(t,{id:"name",name:"name",value:a==null?void 0:a.name,className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-3 px-5 text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary",placeholder:"Nome Completo",required:!0,autoComplete:"name",onChange:s=>l("name",s.target.value)}),e.jsx(i,{message:d.name,className:"mt-2"})]}),e.jsx("div",{className:"w-full xl:w-1/3"})]}),e.jsxs("div",{className:"mb-4.5 flex flex-col gap-6 xl:flex-row",children:[e.jsxs("div",{className:"w-full xl:w-1/3",children:[e.jsx(o,{htmlFor:"cpf",value:"CPF*",className:"mb-2.5 block text-black dark:text-white"}),e.jsx(t,{id:"cpf",name:"cpf",value:a==null?void 0:a.cpf,className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-3 px-5 text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary",placeholder:"999.999.999-99",required:!0,onChange:s=>l("cpf",n(s.target.value,m))}),e.jsx(i,{message:d.cpf,className:"mt-2"})]}),e.jsxs("div",{className:"w-full xl:w-1/3",children:[e.jsx(o,{htmlFor:"phone",value:"Telefone*",className:"mb-2.5 block text-black dark:text-white"}),e.jsx(t,{id:"phone",name:"phone",value:a==null?void 0:a.phone,className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-3 px-5 text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary",placeholder:"(99) 9 9999-9999",required:!0,onChange:s=>l("phone",n(s.target.value,w))}),e.jsx(i,{message:d.phone,className:"mt-2"})]})]}),e.jsxs("div",{className:"mb-4.5 flex flex-col gap-6 xl:flex-row",children:[e.jsxs("div",{className:"w-full xl:w-1/3",children:[e.jsx(o,{htmlFor:"title_number",value:"Nº Título",className:"mb-2.5 block text-black dark:text-white"}),e.jsx(t,{id:"title_number",name:"title_number",value:a==null?void 0:a.title_number,className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-3 px-5 text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary",placeholder:"Nº Título",onChange:s=>l("title_number",s.target.value)}),e.jsx(i,{message:d.title_number,className:"mt-2"})]}),e.jsxs("div",{className:"w-full xl:w-1/3",children:[e.jsx(o,{htmlFor:"zone",value:"Zona",className:"mb-2.5 block text-black dark:text-white"}),e.jsx(t,{id:"zone",name:"zone",value:a==null?void 0:a.zone,className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-3 px-5 text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary",placeholder:"Nº Zona",onChange:s=>l("zone",s.target.value)}),e.jsx(i,{message:d.zone,className:"mt-2"})]}),e.jsxs("div",{className:"w-full xl:w-1/3",children:[e.jsx(o,{htmlFor:"session",value:"Seção",className:"mb-2.5 block text-black dark:text-white"}),e.jsx(t,{id:"session",name:"session",value:a==null?void 0:a.session,className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-3 px-5 text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary",placeholder:"Seção",onChange:s=>l("session",s.target.value)}),e.jsx(i,{message:d.session,className:"mt-2"})]})]})]})]})]}),e.jsxs(x,{sx:{width:"100%",display:"flex",justifyContent:"space-between",gap:3},children:[e.jsx(x,{sx:{width:"100%"},children:e.jsx(_,{href:route("voters.list"),children:e.jsx(h,{className:"flex mt-3 w-full h-12 justify-center rounded bg-slate-500 p-3 font-medium text-gray hover:bg-opacity-90",children:"Cancelar"})})}),e.jsx(x,{sx:{width:"100%"},children:e.jsx(h,{type:"submit",disabled:N,onClick:u,className:"flex mt-3 w-full h-12 justify-center rounded bg-green-600 p-3 font-medium text-gray hover:bg-opacity-90",children:"Salvar"})})]})]})})]})}export{V as default};
